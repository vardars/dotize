!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r||self).dotize=e()}(this,function(){var r={valTypes:{none:"NONE",primitive:"PRIM",object:"OBJECT",array:"ARRAY"},getValType:function(e){return e&&"object"==typeof e||Array.isArray(e)?Array.isArray(e)?r.valTypes.array:"object"==typeof e?r.valTypes.object:void 0:r.valTypes.primitive},getPathType:function(e){var t=[];for(var i in e){var n=e[i];n?r.isNumber(n)?t.push(r.valTypes.array):t.push(r.valTypes.object):t.push(r.valTypes.none)}return t},isUndefined:function(r){return void 0===r},isNumber:function(r){return!isNaN(parseInt(r))},isEmptyObj:function(r){for(var e in r)if(Object.hasOwnProperty.call(r,e))return!1;return JSON.stringify(r)===JSON.stringify({})},isNotObject:function(r){return!r||"object"!=typeof r},isEmptyArray:function(r){return Array.isArray(r)&&0==r.length},isNotArray:function(r){return 0==Array.isArray(r)},removeEmptyArrayItem:function(r){return r.filter(function(r){return null!=r&&""!=r})},getFieldName:function(e,t,i,n,a){return a?(t||"")+(r.isNumber(e)?"["+e+"]":(i&&!t?"":".")+e):n?(t||"")+"["+e+"]":(t?t+".":"")+e},startsWith:function(r,e){return 0==r.indexOf(e)},convert:function(e,t){var i={};return r.isNotObject(e)&&r.isNotArray(e)?t?(i[t]=e,i):e:r.isEmptyArray(e)?e:function e(t,n,a){var s=Array.isArray(t);for(var y in t){var o=t[y];o&&"object"==typeof o?Array.isArray(o)?r.isEmptyArray(o)?i[r.getFieldName(y,n,a,!1,!0)]=o:i=e(o,r.getFieldName(y,n,a,!1,!0),s):s&&0==r.isEmptyObj(o)?i=e(o,r.getFieldName(y,n,a,!0)):0==r.isEmptyObj(o)?i=e(o,r.getFieldName(y,n,a)):r.isEmptyObj(o)&&(i[r.getFieldName(y,n,a,s)]=o):s||r.isNumber(y)?i[r.getFieldName(y,n,a,!0)]=o:i[r.getFieldName(y,n,a)]=o}return i}(e,t,!0)},backward:function(e,t){var i={},n=/\[(\d+)\]/g;if(r.isNotObject(e)&&r.isNotArray(e))return t?e[t]:e;if(r.isEmptyArray(e))return e;for(var a in e){var s=e[a];if(t){var y=new RegExp("^"+t);a=a.replace(y,"")}a=a.replace(n,".$1"),r.startsWith(a,".")&&(a=a.replace(/^\./,""));var o=a.split("."),u=r.getPathType(o);r.isUndefined(u)||u[0]!=r.valTypes.array||0!=Array.isArray(i)||(i=[]),function e(t,n,a,s){var y=o.shift(),f=u.shift();if(void 0!==y&&""!=y){if(y=r.isNumber(y)?parseInt(y):y,o.length>0)return void 0===n[y]&&(n[y]=u[0]==r.valTypes.array?[]:{}),void e(t,n[y],y,n);f==r.valTypes.array&&a&&s?(0==Array.isArray(s[a])&&(s[a]=[]),s[a].push(t)):n[y]=t}else i=t}(s,i)}return i}};return r});
//# sourceMappingURL=dotize.umd.js.map
